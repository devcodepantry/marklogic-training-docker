<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MarkLogic Data Integration</title>
<link href="../css/ml.css" rel="stylesheet" type="text/css">
</head>

<body>
<p><img src="../images/general/Marklogic-University-RGB.png" alt="" width="130" height="38" class="logo-padding"/></p>
<p class="exercise-heading">Exercise: <strong>Write a SQL and Document Search Query</strong></p>
<p>In this walkthrough exercise, you write a SQL query that includes document criteria.</p>
<p>&nbsp;</p>
<ol class="exercise-step">
  <li class="exercise-step">In Query Console, create a <strong>new tab</strong>, select <strong>XQuery</strong> for Query Type, and enter the following to find all calls that have the word gears anywhere in them:<br>
    <br>
    <span class="code">xdmp:sql(&quot;SELECT * FROM calls&quot;)</span><br>
  </li>
  <li class="exercise-step">Click Run.</li>
  <li class="exercise-step">See that the rows for all of the calls are returned:<br>
    <br>
    <img src="../images/unit06/all_calls.png" width="702" height="497" class="image-border"><br>
  </li>
  <li class="exercise-step">Add to the query, to only return rows from documents where the word gears is anywhere in them:<br>
    <br>
    <span class="code">xdmp:sql(&quot;SELECT * FROM calls&quot;<strong>,  (),  (),  cts:word-query(&quot;gears&quot;)</strong>)</span><br>
  </li>
  <li class="exercise-step">Click Run.</li>
  <li class="exercise-step">See that the only rows returned are ones that come from documents that have the term 'gears' in them:<br>
    <br>
    <img src="../images/unit06/gears.png" width="700" height="68" class="image-border"><br>
    <br>
  </li>
  <li class="exercise-step">In a browser window, navigate to <a href="http://docs.marklogic.com" target="_blank">docs.marklogic.com</a>.</li>
  <li class="exercise-step">In the left navigation, scroll down to locate<strong> JavaScript Functions by Name</strong>:<br>
    <br>
    <img src="../images/unit06/js_functions_by_name_cs.png" width="264" height="29" class="image-border"><br>
    <em>Note: If you do not see the left navigation area, make your browser window wider. </em><br>
  </li>
  <li class="exercise-step">Click the '<strong>+</strong>' to expand the category.</li>
  <li class="exercise-step">Notice the <strong>cts</strong> category.</li>
  <li class="exercise-step">Click the '<strong>+</strong>' to expand the cts category.</li>
  <li class="exercise-step">See that there are many cts functions available:<br>
    <br>
  <img src="../images/unit06/cts_functions_cs.png" width="256" height="308" class="image-border"></li>
  <li class="exercise-step">Realize that these functions can be used to create highly sophisticated searches.</li>
  <li class="exercise-step">Know that these functions are available in both XQuery and JavaScript.<br>
  </li>
</ol>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Next: <a href="06f1_summary.htm" class="exercise-link">Summary (Unit 6)</a></p>
<p>Back: <a href="0607_executing_sql_from_xquery_or_javascript.htm">Previous</a><br>
</p>
<hr>
<p class="copyright">Â©2017-2018 MarkLogic Corporation. All rights reserved. Copying, selling, or otherwise distributing any part of this course without prior written consent of an authorized representative of MarkLogic Corporation is prohibited.</p>
</body>
</html>
