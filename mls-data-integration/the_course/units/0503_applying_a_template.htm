<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MarkLogic Data Integration</title>
<link href="../css/ml.css" rel="stylesheet" type="text/css">
</head>

<body>
<p><img src="../images/general/Marklogic-University-RGB.png" alt="" width="130" height="38" class="logo-padding"/></p>
<p class="topic-heading"><strong>Applying a Template</strong></p>
<p>A template can be applied to a test document by using the <strong>tde:node-data-extract()</strong> function. Using this function, the first argument is the <strong>document</strong> that the template is to be applied to, and the second argument is the <strong>template</strong>.</p>
<p class="code">tde:node-data-extract(fn:doc(&quot;/accounting/order-10072.xml&quot;),   $purchases-template) </p>
<p>In the example above, the template in the $purchases-template variable is being applied to the /accounting/order-10072.xml document. </p>
<p>Result:</p>
<p><span class="code"><img src="../images/unit05/results_for_10072.png" width="386" height="489" class="image-border"></span><br>
</p>
<p>Documentation for the tde:node-data-extract() function is available at docs.marklogic.com/tde:node-data-extract. </p>
<p class="topic-sub-heading">Defining a Column as Optional</p>
<p>To define a column as optional, the nullable element can be used in the column definition. </p>
<p><span class="code">&lt;column&gt;<br>
&nbsp;&nbsp;&lt;name&gt;notes&lt;/name&gt;<br>
&nbsp;&nbsp;&lt;scalar-type&gt;string&lt;/scalar-type&gt;<br>
&nbsp;&nbsp;&lt;val&gt;../../notes&lt;/val&gt;<br>
&nbsp;<strong>&nbsp;&lt;nullable&gt;true&lt;/nullable&gt; </strong><br>
&lt;/column&gt;</span></p>
<p>For example, an element might exist in some documents but not in others. By defining the column as nullable, the column will exist if there is a value for it, but not throw an error if there is not a value for it.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Next: <a href="0503_x_apply_a_template.htm">Exercise (Apply a Template)</a></p>
<p>Back: <a href="0502_x_create_a_template_and_validate_it.htm">Previous</a></p>
<hr>
<p class="copyright">Â©2017-2018 MarkLogic Corporation. All rights reserved. Copying, selling, or otherwise distributing any part of this course without prior written consent of an authorized representative of MarkLogic Corporation is prohibited.</p>
</body>
</html>
