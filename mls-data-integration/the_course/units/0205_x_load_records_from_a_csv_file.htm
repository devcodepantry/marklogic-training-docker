<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MarkLogic Data Integration</title>
<link href="../css/ml.css" rel="stylesheet" type="text/css">
</head>

<body>
<p><img src="../images/general/Marklogic-University-RGB.png" alt="" width="130" height="38" class="logo-padding"/></p>
<p class="exercise-heading">Exercise: <strong>Load Records from a .csv File</strong></p>
<p>In this walkthrough exercise, you  load  records from a .csv file. </p>
<p><br>
</p>
<ol class="exercise-step">
  <li class="exercise-step">On the desktop of the virtual machine, in the mls-data-integration/unit02/<strong>data</strong> folder, open the <strong>support-system</strong> folder.</li>
  <li class="exercise-step">Right-click on the <strong>tech-support-calls_20170123.csv</strong> file, to select Open With gedit.</li>
  <li class="exercise-step">See that the .csv file contains a row for each tech support call:<br>
    <br>
  <img src="../images/unit02/all_calls_cs.png" width="606" height="501" class="image-border"></li>
  <li class="exercise-step">Close the file.<br>
  </li>
  <li class="exercise-step">In the mls-data-integration/<strong>unit02</strong> folder, open the <strong>ex05.txt</strong> file in a text editor:<br>
    <br>
  <span class="code">~/Desktop/mlcp/bin/mlcp.sh import -host localhost -port 8055 -username admin -password admin -mode local -input_file_path ~/Desktop/mls-data-integration/unit02/data/support-system/tech-support-calls_20170123.csv <strong>-input_file_type delimited_text </strong>-output_uri_prefix /tech-support/   <strong>-uri_id id</strong> -output_uri_suffix<strong> .json -document_type json </strong>-output_collections &quot;raw,from_csv&quot;</span></li>
  <li class="exercise-step"><strong>Notice</strong> the <strong>-input_file_type delimited_text</strong> option.</li>
  <li class="exercise-step"><strong>Notice</strong> the <strong>-document_type json</strong> option, to specify the output to be json documents.</li>
  <li class="exercise-step"><strong>Notice</strong> the <strong>-uri_id id</strong> option.</li>
  <li class="exercise-step">Copy all of the text. </li>
  <li class="exercise-step">In a command prompt window, right-click to select <strong>Paste</strong>. </li>
  <li class="exercise-step">Press <strong>Enter</strong> to run the command.</li>
  <li class="exercise-step">See that the command finishes:<br>
    <br>
  <img src="../images/unit02/csv_file_response_csv.png" width="666" height="304" class="image-border"></li>
  <li class="exercise-step">In Query Console, click the <strong>Explore</strong> button.</li>
  <li class="exercise-step">See the new documents:<br>
    <br>
    <img src="../images/unit02/calls.png" width="498" height="234" class="image-border"><br>
  </li>
  <li class="exercise-step">Realize that a document was created for each row from the .csv file.</li>
  <li class="exercise-step">Click the name of one of the documents (e.g. /tech-support/call-002344.json) to see the contents:<br>
    <br>
    <img src="../images/unit02/csv_doc.png" width="641" height="196" class="image-border"><br>
  </li>
  <li class="exercise-step">If desired, click the back triangle, to go back to the list of documents, to view any of the other call documents.</li></ol>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Next: <a href="0206_transforming_data_while_loading.htm" class="exercise-link">Topic (Transforming Data While Loading)</a></p>
<p>Back: <a href="0205_loading_records_from_a_csv_file.htm">Previous</a><br>
</p>
<hr>
<p class="copyright">Â©2017-2018 MarkLogic Corporation. All rights reserved. Copying, selling, or otherwise distributing any part of this course without prior written consent of an authorized representative of MarkLogic Corporation is prohibited.</p>
</body>
</html>
