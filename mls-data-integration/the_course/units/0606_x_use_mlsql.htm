<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MarkLogic Data Integration</title>
<link href="../css/ml.css" rel="stylesheet" type="text/css">
</head>

<body>
<p><img src="../images/general/Marklogic-University-RGB.png" alt="" width="130" height="38" class="logo-padding"/></p>
<p class="exercise-heading">Exercise: <strong>Use mlsql</strong></p>
<p>In this walkthrough exercise, you  use the mlsql tool to send a SQL query to the customer360 database.</p>
<p>&nbsp;</p>
<ol class="exercise-step">
  <li class="exercise-step">In the <strong>Admin Interface</strong>, select <strong>Configure</strong> - <strong>Security</strong> - <strong>Roles</strong> - <strong>admin </strong>link.</li>
  <li class="exercise-step">Scroll down  the first set of checkboxes, for roles.</li>
  <li class="exercise-step">Scroll down to see  the <strong>sql-execution</strong> role:<br>
    <br>
  <img src="../images/unit06/sql-execution.png" width="205" height="37" class="image-border"></li>
  <li class="exercise-step"><strong>Know</strong> that, for any users that do not have the admin role, they will need the sql-execution role in order to make sql queries. </li>
  <li class="exercise-step">Leave the Admin Interface without making any changes, knowing that, because you have the admin role, it is not necessary to select the sql-execution role.</li>
  <li class="exercise-step">In a command prompt window, <strong>enter</strong><span class="code"> ls /opt/MarkLogic/bin </span>to see the mlsql directory listed:<br>
    <br>
    <img src="../images/unit06/mlsql_directory.png" width="624" height="56" class="image-border"><br>
  </li>
  
  <li class="exercise-step"><strong>Enter</strong> the following to use mlsql to connect to the customer360 database (unit06/<strong>ex06a.txt</strong>):<br>
    <br>
    <span class="code">/opt/MarkLogic/bin/mlsql -h localhost -p 3366 -U admin</span><br>
  </li>
  <li class="exercise-step"><strong>Enter</strong> the admin password when prompted:<br>
    <br>
  <span class="code">admin</span></li>
  <li class="exercise-step">  See that you are now at the mlsql prompt:<br>
    <br>
    <img src="../images/unit06/mlsql_prompt.png" width="697" height="111" class="image-border"><br>
  </li>
  <li class="exercise-step"><strong>Enter</strong> the following to send a SQL query to the customer360 database, including the semicolon:<br>
    <br>
  <span class="code">SELECT * FROM purchases;</span><br>
  <br>
  <em>Note: Be sure to include the semi-colon. </em></li>
  <li class="exercise-step">  See the result:<br>
    <br>
    <img src="../images/unit06/sql_purchases.png" width="697" height="404" class="image-border"><br>
  </li>
  <li class="exercise-step">If desired, enter another SQL query (e.g.<span class="code"> SELECT * FROM factsheets;</span>) to see the result returned:<br>
    <br>
    <img src="../images/unit06/mlsql_factsheets.png" width="698" height="406" class="image-border"><br>
  </li>
  <li class="exercise-step">Enter<span class="code"> \q </span>to exit  mlsql. <br>
  </li>
  <li class="exercise-step">In a browser window, navigate to <a href="http://docs.marklogic.com/guide/sql" target="_blank">docs.marklogic.com/guide/sql</a> to view the SQL Data Modeling Guide. </li>
  <li class="exercise-step">Notice the chapters on connecting Tableau or Qlik to MarkLogic:<br>
    <br>
    <img src="../images/unit06/sql_guide_toc.png" width="430" height="212" class="image-border"><br>
  </li>
  <li class="exercise-step">Click the link for one of them (e.g. <strong>Connecting Tableau to MarkLogic Server</strong>).</li>
  <li class="exercise-step"><strong>Skim</strong> through the page, seeing how a MarkLogic database can be used as an ODBC data source.</li>
  <li class="exercise-step">Continue to peruse, as desired. </li>
</ol>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Next: <a href="0607_executing_sql_from_xquery_or_javascript.htm" class="exercise-link">Topic (Executing SQL from XQuery or JavaScript)</a></p>
<p>Back: <a href="0606_using_mlsql.htm">Previous</a><br>
</p>
<hr>
<p class="copyright">Â©2017-2018 MarkLogic Corporation. All rights reserved. Copying, selling, or otherwise distributing any part of this course without prior written consent of an authorized representative of MarkLogic Corporation is prohibited.</p>
</body>
</html>
