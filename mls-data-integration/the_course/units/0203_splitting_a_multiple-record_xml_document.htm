<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MarkLogic Data Integration</title>
<link href="../css/ml.css" rel="stylesheet" type="text/css">
</head>

<body>
<p><img src="../images/general/Marklogic-University-RGB.png" alt="" width="130" height="38" class="logo-padding"/></p>
<p class="topic-heading"><strong>Splitting a Multiple-Record XML Document</strong></p>
<p>MLCP contains a feature for splitting long XML documents, where each occurrence of a designated element becomes an individual XML document in the database. This is useful when multiple  records are all contained within one large XML file, such as a list of customers, products, real estate listings, customer orders, or prescriptions.</p>
<p><span class="exercise-step"><img src="../images/unit02/contacts.png" width="665" height="607" class="image-border"></span></p>
<p>To tell MLCP to split a large XML document into individual documents, the<strong> -input_file_type aggregates </strong>option is used.</p>
<p>To tell MLCP which element to use for designating a new document, the<strong> -aggregate_record_element </strong>option is used.</p>
<p>To create  the URI for each new document, the<strong> -uri_id </strong>option is used.</p>
<p><span class="code">~/Desktop/mlcp/bin/mlcp.sh import -host localhost -port 8055 -username admin -password admin -mode local -input_file_path ~/Desktop/mls-data-integration/unit02/data/marketing-system/contacts.xml <strong>-input_file_type aggregates -aggregate_record_element contact </strong>-output_uri_prefix /marketing/contact-   <strong>-uri_id id</strong> -output_uri_suffix .xml -output_collections &quot;raw&quot;</span></p>
<p>Using the above options against the source document above would return an XML document for each contact element.</p>
<p><img src="../images/unit02/individual_doc.png" width="434" height="437" class="image-border"></p>
<p>For more detail on splitting  XML documents using MLCP, see <strong>docs.marklogic.com/guide/mlcp/import#id_65814</strong>.</p>
<p>To create documents from line-delimited JSON files, see <strong>docs.marklogic.com/guide/mlcp/import#id_22914</strong>.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Next: <a href="0203_x_split_a_multiple-record_xml_document.htm">Exercise (Split a Multiple-Record XML Document)</a></p>
<p>Back: <a href="0202_x_load_documents.htm">Previous</a></p>
<hr>
<p class="copyright">Â©2017-2018 MarkLogic Corporation. All rights reserved. Copying, selling, or otherwise distributing any part of this course without prior written consent of an authorized representative of MarkLogic Corporation is prohibited.</p>
</body>
</html>
